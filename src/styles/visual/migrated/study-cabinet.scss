.study-cabinet-panel {
  display: grid;
  gap: 18px;
}

.study-cabinet-panel--alert .study-cabinet-panel__cover {
  border-color: color-mix(in srgb, var(--feedback-warning) 45%, var(--card-border));
  box-shadow: 0 16px 30px color-mix(in srgb, var(--feedback-warning) 24%, transparent);
}

.study-cabinet-panel__urgent {
  display: inline-flex;
  align-items: center;
  width: fit-content;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--feedback-warning) 48%, var(--card-border));
  background: linear-gradient(
    140deg,
    color-mix(in srgb, var(--feedback-warning) 22%, var(--surface-elevated)),
    color-mix(in srgb, var(--feedback-warning) 8%, var(--surface-soft))
  );
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 700;
  color: var(--text-primary);
}

.study-cabinet-panel__cover {
  position: relative;
  overflow: visible;
  border-radius: 26px;
  border: 1px solid var(--card-border);
  background:
    radial-gradient(
      circle at 12% 16%,
      color-mix(in srgb, #2bc8b5 18%, transparent),
      transparent 46%
    ),
    radial-gradient(
      circle at 84% 18%,
      color-mix(in srgb, #4f7cff 22%, transparent),
      transparent 48%
    ),
    linear-gradient(142deg, color-mix(in srgb, var(--surface-elevated) 92%, #ffffff), var(--surface-soft));
  box-shadow: 0 16px 36px color-mix(in srgb, #1f2c56 18%, transparent);
}

.study-cabinet-panel__cover-content {
  position: relative;
  z-index: 1;
  padding: 20px 22px;
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.8fr);
  gap: 16px;
  align-items: stretch;
}

.study-cabinet-panel__veil {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 84% 14%, color-mix(in srgb, var(--brand-solid) 20%, transparent), transparent 58%),
    radial-gradient(circle at 16% 88%, color-mix(in srgb, var(--accent-mint) 15%, transparent), transparent 56%);
  pointer-events: none;
}

.study-cabinet-panel__hero {
  display: grid;
  gap: 14px;
}

.study-cabinet-panel__hero-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.study-cabinet-panel__kicker {
  font-size: 11px;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-secondary);
}

.study-cabinet-panel__hero h2 {
  margin: 0;
  font-size: clamp(22px, 2.45vw, 30px);
  line-height: 1.08;
  letter-spacing: -0.02em;
  color: var(--text-primary);
}

.study-cabinet-panel__hero p {
  margin: 0;
  max-width: 760px;
  font-size: 13px;
  line-height: 1.45;
  color: var(--text-secondary);
}

.study-cabinet-panel__hero-nav {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.study-cabinet-panel__hero-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 7px;
  min-height: 40px;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--card-border) 90%, #ffffff);
  background: color-mix(in srgb, var(--surface-elevated) 94%, #ffffff);
  color: var(--text-primary);
  padding: 0 16px;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease,
    background 0.2s ease;
}

.study-cabinet-panel__hero-btn:hover {
  transform: translateY(-1px) scale(1.01);
  border-color: color-mix(in srgb, #58d3c2 52%, var(--card-border));
  background: color-mix(in srgb, #ecfffb 74%, var(--surface-elevated));
  box-shadow: 0 9px 18px color-mix(in srgb, #2d8e83 16%, transparent);
}

.study-cabinet-panel__hero-btn:disabled {
  opacity: 0.56;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.study-cabinet-panel__hero-btn--chat {
  border-color: color-mix(in srgb, var(--brand-solid) 52%, var(--card-border));
  background: linear-gradient(
    142deg,
    color-mix(in srgb, var(--brand-soft) 24%, var(--surface-elevated)),
    color-mix(in srgb, var(--brand-solid) 15%, var(--surface-elevated))
  );
}

.study-cabinet-panel__hero-chat-lock {
  color: color-mix(in srgb, #ffd979 92%, #f6b400);
  filter: drop-shadow(0 0 7px rgba(255, 190, 40, 0.45));
}

.study-cabinet-panel__hero-highlights {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.study-cabinet-panel__hero-highlight {
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--border-subtle) 82%, transparent);
  background: color-mix(in srgb, var(--surface-elevated) 90%, transparent);
  padding: 9px 10px;
  display: grid;
  grid-template-columns: auto minmax(0, 1fr) auto;
  align-items: center;
  gap: 7px;

  strong {
    display: block;
    margin: 0;
    font-size: 12px;
    font-weight: 700;
    color: var(--text-primary);
  }

  small {
    display: block;
    margin-top: 2px;
    font-size: 10px;
    color: var(--text-secondary);
    line-height: 1.35;
  }
}

.study-cabinet-panel__hero-highlight-icon {
  width: 26px;
  height: 26px;
  border-radius: 9px;
  display: inline-grid;
  place-items: center;
  color: var(--cabinet-icon-color);
  background: var(--cabinet-icon-bg);
  border: 1px solid var(--cabinet-icon-border);
}

.study-cabinet-panel__icon {
  width: 26px;
  height: 26px;
  border-radius: 9px;
  display: inline-grid;
  place-items: center;
  color: var(--cabinet-icon-color);
  background: var(--cabinet-icon-bg);
  border: 1px solid var(--cabinet-icon-border);
}

.study-cabinet-panel__cover-bot {
  display: flex;
  align-items: stretch;
  justify-content: flex-end;
}

.study-cabinet-panel__cover-assistant {
  width: min(100%, 420px);
  min-height: 100%;

  .axiom-assistant__card {
    min-height: 132px;
  }

  .assistant-launcher {
    right: 26px;
    bottom: 30px;
  }

  .assistant-panel {
    right: 22px;
  }
}

.study-cabinet-panel__activity-row {
  display: grid;
  grid-template-columns: minmax(0, 2fr) minmax(0, 1fr);
  gap: 12px;
}

.study-cabinet-panel__schedule-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  gap: 0;
  align-items: start;
}

.study-cabinet-panel__smart-card {
  border-radius: 18px;
  border: 1px solid var(--card-border);
  background: linear-gradient(145deg, var(--surface-elevated), var(--surface-soft));
  box-shadow: var(--shadow-sm);
  padding: 12px;
  display: grid;
  gap: 10px;
  align-content: start;
}

.study-cabinet-panel__smart-card--activity {
  background: linear-gradient(
    155deg,
    color-mix(in srgb, var(--brand-solid) 10%, var(--surface-elevated)),
    var(--surface-soft)
  );
}

.study-cabinet-panel__smart-card--calendar {
  background: linear-gradient(
    155deg,
    color-mix(in srgb, var(--accent-mint) 12%, var(--surface-elevated)),
    var(--surface-soft)
  );
}

.study-cabinet-panel__smart-card--reminders {
  background: linear-gradient(
    155deg,
    color-mix(in srgb, var(--accent-violet) 14%, var(--surface-elevated)),
    var(--surface-soft)
  );
}

.study-cabinet-panel__smart-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;

  h3 {
    margin: 0;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    font-weight: 800;
    color: var(--text-primary);
  }

  .MuiButton-root {
    min-height: 28px;
    border-radius: 999px;
    font-size: 11px;
    text-transform: none;
    padding-inline: 10px;
  }
}

.study-cabinet-panel__activity-insights {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 8px;
}

.study-cabinet-panel__activity-metric {
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--brand-soft) 48%, var(--border-subtle));
  background: color-mix(in srgb, var(--surface-elevated) 90%, transparent);
  padding: 9px 10px;
  display: grid;
  gap: 4px;

  span {
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-secondary);
  }

  strong {
    font-size: 13px;
    font-weight: 800;
    color: var(--text-primary);
  }
}

.study-cabinet-panel__activity-metric-icon {
  width: 24px;
  height: 24px;
  display: inline-grid;
  place-items: center;
  border-radius: 8px;
  background: color-mix(in srgb, #ff7a59 18%, var(--surface-elevated));
  border: 1px solid color-mix(in srgb, #ff7a59 40%, var(--border-subtle));
  color: var(--accent-text);
}

.study-cabinet-panel__activity-dashboard {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
  gap: 10px;
}

.study-cabinet-panel__activity-bars {
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--brand-soft) 52%, var(--border-subtle));
  background: color-mix(in srgb, var(--surface-elevated) 90%, transparent);
  padding: 12px;
  min-height: 224px;
  display: grid;
  align-content: end;
  gap: 8px;
}

.study-cabinet-panel__activity-bars-grid {
  display: grid;
  gap: 0;
  grid-template-rows: repeat(5, 1fr);
  min-height: 188px;
  pointer-events: none;

  span {
    border-top: 1px dashed color-mix(in srgb, var(--border-subtle) 75%, transparent);
  }
}

.study-cabinet-panel__activity-bars-list {
  margin-top: -188px;
  min-height: 188px;
  display: grid;
  grid-template-columns: repeat(7, minmax(0, 1fr));
  gap: 8px;
  align-items: end;
}

.study-cabinet-panel__activity-bar {
  width: 100%;
  border: 1px solid color-mix(in srgb, #ff7a59 40%, var(--border-subtle));
  border-radius: 10px 10px 8px 8px;
  background: linear-gradient(
    180deg,
    color-mix(in srgb, #ff7a59 90%, #ff9f45),
    color-mix(in srgb, #fd3a84 78%, #ff7a59)
  );
  box-shadow: 0 10px 16px color-mix(in srgb, #ff7a59 28%, transparent);
  cursor: pointer;
  display: grid;
  align-content: end;
  justify-items: center;
  padding: 4px 2px;
  transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
  animation: study-cabinet-bar-rise 0.35s ease both;
  animation-delay: var(--activity-bar-delay);

  span {
    font-size: 10px;
    font-weight: 700;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.25);
  }
}

.study-cabinet-panel__activity-bar:hover,
.study-cabinet-panel__activity-bar.is-active {
  transform: translateY(-2px);
  filter: brightness(1.04);
  box-shadow: 0 14px 20px color-mix(in srgb, #ff7a59 35%, transparent);
}

.study-cabinet-panel__activity-bar-tooltip {
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, #ff7a59 52%, var(--border-subtle));
  background: color-mix(in srgb, #ff7a59 14%, var(--surface-elevated));
  padding: 7px 9px;
  display: grid;
  gap: 2px;

  strong {
    font-size: 12px;
    color: var(--text-primary);
  }

  span {
    font-size: 11px;
    line-height: 1.3;
    color: var(--text-secondary);
  }
}

.study-cabinet-panel__activity-table {
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--brand-soft) 52%, var(--border-subtle));
  background: color-mix(in srgb, var(--surface-elevated) 90%, transparent);
  padding: 10px;
  min-height: 224px;
  display: grid;
  grid-template-rows: auto 1fr;
  gap: 8px;
}

.study-cabinet-panel__activity-table-head {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 8px;
  padding: 0 6px 6px;
  border-bottom: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);

  span {
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--text-secondary);
  }
}

.study-cabinet-panel__activity-table-body {
  display: grid;
  gap: 6px;
  align-content: start;
}

.study-cabinet-panel__activity-table-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 8px;
  align-items: center;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border-subtle) 88%, transparent);
  background: color-mix(in srgb, var(--surface-elevated) 94%, transparent);
  padding: 7px 8px;

  strong {
    font-size: 14px;
    color: var(--text-primary);
    font-weight: 800;
  }
}

.study-cabinet-panel__activity-table-label {
  min-width: 0;
  display: inline-flex;
  align-items: center;
  gap: 8px;

  i {
    width: 24px;
    height: 24px;
    border-radius: 8px;
    display: inline-grid;
    place-items: center;
    color: var(--accent-text);
    background: color-mix(in srgb, var(--brand-soft) 18%, var(--surface-elevated));
    border: 1px solid color-mix(in srgb, var(--brand-soft) 40%, var(--border-subtle));
    flex: 0 0 auto;
  }

  em {
    font-style: normal;
    font-size: 11px;
    line-height: 1.25;
    color: var(--text-secondary);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

.study-cabinet-panel__planner-controls {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 12px;
  padding: 2px 2px 0;
}

.study-cabinet-panel__planner-switch {
  display: inline-flex;
  gap: 6px;
}

.study-cabinet-panel__planner-nav {
  display: inline-flex;
  align-items: center;
  gap: 6px;

  strong {
    font-size: 12px;
    color: var(--text-primary);
    font-weight: 700;
    min-width: 162px;
    text-align: center;
  }
}

.study-cabinet-panel__planner {
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--border-subtle) 92%, transparent);
  background: color-mix(in srgb, var(--surface-elevated) 92%, transparent);
  max-height: 620px;
  overflow: auto;
  overflow-x: hidden;
}

.study-cabinet-panel__planner-collapsed {
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--border-subtle) 92%, transparent);
  background: color-mix(in srgb, var(--surface-elevated) 94%, transparent);
  padding: 10px;
  display: grid;
  gap: 4px;

  strong {
    font-size: 12px;
    color: var(--text-primary);
  }

  span {
    font-size: 12px;
    color: var(--text-secondary);
    line-height: 1.35;
  }

  small {
    font-size: 11px;
    color: var(--text-muted);
  }
}

.study-cabinet-panel__planner-header {
  display: grid;
  grid-template-columns: 64px minmax(720px, 1fr);
  border-bottom: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);
  position: sticky;
  top: 0;
  z-index: 2;
  background: color-mix(in srgb, var(--surface-elevated) 98%, transparent);
}

.study-cabinet-panel__planner-time-head {
  display: grid;
  place-items: center;
  font-size: 11px;
  font-weight: 700;
  color: var(--text-secondary);
}

.study-cabinet-panel__planner-day-heads {
  display: grid;
  min-width: 0;
}

.study-cabinet-panel__planner-day-head {
  appearance: none;
  border: 0;
  border-left: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);
  background: color-mix(in srgb, var(--surface-elevated) 95%, transparent);
  display: grid;
  grid-template-columns: 1fr;
  text-align: center;
  cursor: pointer;
  padding: 6px 4px;
  gap: 1px;

  span {
    font-size: 11px;
    color: var(--text-secondary);
    font-weight: 700;
  }

  strong {
    font-size: 12px;
    color: var(--text-primary);
    font-weight: 700;
  }
}

.study-cabinet-panel__planner-day-head.is-selected {
  background: color-mix(in srgb, #ff7a59 22%, var(--surface-elevated));
  box-shadow: inset 0 -2px 0 color-mix(in srgb, #ff7a59 68%, transparent);
}

.study-cabinet-panel__planner-body {
  display: grid;
  grid-template-columns: 64px minmax(720px, 1fr);
  min-height: calc(36px * 24);
  width: 100%;
}

.study-cabinet-panel__planner-time-axis {
  display: grid;
  grid-template-rows: repeat(25, 36px);
  border-right: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);

  span {
    font-size: 10px;
    color: var(--text-secondary);
    font-weight: 700;
    display: grid;
    place-items: start center;
    padding-top: 2px;
    text-align: center;
  }
}

.study-cabinet-panel__planner-days {
  display: grid;
}

.study-cabinet-panel__planner-day {
  position: relative;
  border-left: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);
}

.study-cabinet-panel__planner-slots {
  display: grid;
  grid-template-rows: repeat(48, 18px);
}

.study-cabinet-panel__planner-slot {
  border: 0;
  border-bottom: 1px solid color-mix(in srgb, var(--border-subtle) 76%, transparent);
  background: transparent;
  padding: 0;
  margin: 0;
}

.study-cabinet-panel__planner-slot:nth-child(2n) {
  border-bottom-color: color-mix(in srgb, var(--border-subtle) 94%, transparent);
}

.study-cabinet-panel__planner-slot.is-clickable {
  cursor: pointer;
}

.study-cabinet-panel__planner-slot.is-clickable:hover {
  background: color-mix(in srgb, var(--brand-soft) 14%, transparent);
}

.study-cabinet-panel__planner-slot.is-disabled {
  background: color-mix(in srgb, var(--surface-soft) 52%, transparent);
  cursor: not-allowed;
}

.study-cabinet-panel__planner-events {
  position: absolute;
  inset: 0 4px 0 4px;
  pointer-events: none;
}

.study-cabinet-panel__planner-event {
  position: absolute;
  left: 2px;
  right: 2px;
  width: calc(100% - 4px);
  border: 1px solid transparent;
  border-radius: 10px;
  padding: 6px;
  text-align: left;
  display: grid;
  gap: 2px;
  pointer-events: auto;
  box-shadow: 0 8px 14px color-mix(in srgb, var(--brand-soft) 20%, transparent);
  cursor: pointer;

  strong {
    font-size: 11px;
    line-height: 1.25;
    color: var(--text-primary);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  span {
    font-size: 10px;
    line-height: 1.2;
    color: var(--text-secondary);
  }

  em {
    font-style: normal;
    font-size: 10px;
    line-height: 1.25;
    color: var(--text-secondary);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  small {
    font-size: 9px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--accent-text);
  }
}

.study-cabinet-panel__planner-event.is-blue {
  border-color: color-mix(in srgb, #3b82f6 48%, var(--border-subtle));
  background: color-mix(in srgb, #3b82f6 18%, var(--surface-elevated));
}

.study-cabinet-panel__planner-event.is-green {
  border-color: color-mix(in srgb, #34d399 50%, var(--border-subtle));
  background: color-mix(in srgb, #34d399 18%, var(--surface-elevated));
}

.study-cabinet-panel__planner-event.is-amber {
  border-color: color-mix(in srgb, #f59e0b 52%, var(--border-subtle));
  background: color-mix(in srgb, #f59e0b 20%, var(--surface-elevated));
}

.study-cabinet-panel__planner-event.is-purple {
  border-color: color-mix(in srgb, #a855f7 52%, var(--border-subtle));
  background: color-mix(in srgb, #a855f7 20%, var(--surface-elevated));
}

.study-cabinet-panel__planner-event.is-alert {
  border-color: color-mix(in srgb, var(--feedback-warning) 58%, var(--border-subtle));
  background: color-mix(in srgb, var(--feedback-warning) 24%, var(--surface-elevated));
}

.study-cabinet-panel__planner-event.is-custom {
  border-color: color-mix(in srgb, var(--planner-event-color) 68%, var(--border-subtle));
  background: color-mix(in srgb, var(--planner-event-color) 22%, var(--surface-elevated));
}

.study-cabinet-panel__reminders-list {
  display: grid;
  gap: 8px;
  max-height: 350px;
  overflow-y: auto;
  padding-right: 2px;
}

.study-cabinet-panel__reminders-pagination {
  display: inline-flex;
  align-items: center;
  gap: 4px;

  span {
    min-width: 42px;
    text-align: center;
    font-size: 11px;
    font-weight: 700;
    color: var(--text-secondary);
  }
}

.study-cabinet-panel__reminder {
  width: 100%;
  appearance: none;
  font: inherit;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--accent-violet) 52%, var(--border-subtle));
  background: linear-gradient(
    145deg,
    color-mix(in srgb, var(--accent-violet) 18%, var(--surface-elevated)),
    color-mix(in srgb, var(--accent-violet) 8%, var(--surface-soft))
  );
  padding: 10px;
  display: grid;
  grid-template-columns: auto minmax(0, 1fr) auto;
  align-items: start;
  gap: 8px;
  text-align: left;
  color: var(--text-primary);
  box-shadow: 0 8px 14px color-mix(in srgb, var(--accent-violet) 20%, transparent);
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.study-cabinet-panel__reminder.is-highlighted {
  border-color: color-mix(in srgb, var(--feedback-warning) 60%, var(--border-subtle));
  background: linear-gradient(
    145deg,
    color-mix(in srgb, var(--feedback-warning) 24%, var(--surface-elevated)),
    color-mix(in srgb, var(--feedback-warning) 12%, var(--surface-soft))
  );
}

.study-cabinet-panel__reminder.is-clickable {
  cursor: pointer;
}

.study-cabinet-panel__reminder.is-clickable:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 18px color-mix(in srgb, var(--accent-violet) 24%, transparent);
}

.study-cabinet-panel__reminder-icon {
  width: 30px;
  height: 30px;
  border-radius: 10px;
  display: inline-grid;
  place-items: center;
  background: color-mix(in srgb, var(--surface-elevated) 90%, transparent);
  border: 1px solid color-mix(in srgb, var(--accent-violet) 50%, var(--border-subtle));
  color: var(--accent-text);
}

.study-cabinet-panel__reminder-main {
  min-width: 0;
  display: grid;
  gap: 4px;

  strong {
    font-size: 12px;
    line-height: 1.25;
  }

  span {
    font-size: 11px;
    line-height: 1.35;
    color: var(--text-secondary);
  }
}

.study-cabinet-panel__reminder-badge {
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--accent-violet) 56%, var(--border-subtle));
  background: color-mix(in srgb, var(--surface-elevated) 90%, transparent);
  padding: 2px 8px;
  font-size: 10px;
  font-weight: 700;
  color: var(--accent-text);
  white-space: nowrap;
}

.study-cabinet-panel__note-modal {
  margin-top: 8px;
  display: grid;
  gap: 10px;
}

.study-cabinet-panel__note-modal .MuiTextField-root .MuiInputBase-root {
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);
  background: color-mix(in srgb, var(--surface-elevated) 96%, transparent);
  padding-inline: 4px;
}

.study-cabinet-panel__note-modal .MuiTextField-root .MuiInputBase-root.Mui-focused {
  border-color: color-mix(in srgb, var(--border-subtle) 90%, transparent);
}

.study-cabinet-panel__note-modal .MuiTextField-root .MuiInputBase-root:hover,
.study-cabinet-panel__note-modal .MuiTextField-root .MuiInputBase-root.Mui-focused {
  background: color-mix(in srgb, var(--surface-elevated) 96%, transparent) !important;
}

.study-cabinet-panel__note-modal
  .MuiTextField-root
  .MuiOutlinedInput-root
  .MuiOutlinedInput-notchedOutline {
  border-color: color-mix(in srgb, var(--border-subtle) 90%, transparent) !important;
}

.study-cabinet-panel__note-modal
  .MuiTextField-root
  .MuiOutlinedInput-root:hover
  .MuiOutlinedInput-notchedOutline,
.study-cabinet-panel__note-modal
  .MuiTextField-root
  .MuiOutlinedInput-root.Mui-focused
  .MuiOutlinedInput-notchedOutline {
  border-color: color-mix(in srgb, var(--border-subtle) 90%, transparent) !important;
}

.study-cabinet-panel__note-modal .MuiTextField-root .MuiInputBase-input {
  padding: 8px 6px;
  font-size: 14px;
  outline: none !important;
  box-shadow: none !important;
  background: transparent !important;
}

.study-cabinet-panel__note-modal .MuiTextField-root textarea.MuiInputBase-input {
  padding-top: 8px;
}

.study-cabinet-panel__note-modal-row {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}

.study-cabinet-panel__note-modal .MuiFormHelperText-root {
  min-height: 14px;
  margin-left: 0;
}

.study-cabinet-panel__note-color {
  display: grid;
  gap: 6px;

  span {
    font-size: 11px;
    color: var(--text-secondary);
    font-weight: 700;
  }
}

.study-cabinet-panel__note-color-palette {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.study-cabinet-panel__note-color-swatch {
  width: 22px;
  height: 22px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--border-subtle) 90%, transparent);
  cursor: pointer;
  transition: transform 0.18s ease, box-shadow 0.18s ease;
}

.study-cabinet-panel__note-color-swatch.is-active {
  transform: scale(1.08);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--surface-elevated) 100%, transparent),
    0 0 0 3px color-mix(in srgb, #ff7a59 72%, transparent);
}

.study-cabinet-panel__empty {
  border-radius: 12px;
  border: 1px dashed color-mix(in srgb, var(--border-subtle) 95%, transparent);
  background: color-mix(in srgb, var(--surface-elevated) 92%, transparent);
  padding: 12px;
  text-align: center;
  color: var(--text-secondary);
  font-size: 12px;
}

@media (max-width: 1180px) {
  .study-cabinet-panel__cover-content {
    grid-template-columns: minmax(0, 1fr);
  }

  .study-cabinet-panel__hero-highlights {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .study-cabinet-panel__activity-row {
    grid-template-columns: 1fr;
  }

  .study-cabinet-panel__smart-card--reminders {
    order: -1;
  }

  .study-cabinet-panel__activity-insights {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .study-cabinet-panel__activity-dashboard {
    grid-template-columns: 1fr;
  }

  .study-cabinet-panel__schedule-row {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 720px) {
  .study-cabinet-panel__cover {
    border-radius: 20px;
  }

  .study-cabinet-panel__cover-content {
    padding: 14px;
  }

  .study-cabinet-panel__hero {
    gap: 10px;
  }

  .study-cabinet-panel__hero-highlights {
    grid-template-columns: 1fr;
  }

  .study-cabinet-panel__hero-nav {
    flex-direction: column;
  }

  .study-cabinet-panel__hero-btn {
    width: 100%;
  }

  .study-cabinet-panel__activity-insights {
    grid-template-columns: 1fr;
  }

  .study-cabinet-panel__activity-dashboard {
    grid-template-columns: 1fr;
  }

  .study-cabinet-panel__planner-collapsed {
    padding: 9px;
  }

  .study-cabinet-panel__activity-bars-list {
    gap: 6px;
  }

  .study-cabinet-panel__planner {
    max-height: min(62vh, 520px);
  }

  .study-cabinet-panel__planner-header {
    grid-template-columns: 52px minmax(0, 1fr);
  }

  .study-cabinet-panel__planner-body {
    grid-template-columns: 52px minmax(0, 1fr);
  }

  .study-cabinet-panel__planner-controls {
    flex-direction: column;
    align-items: stretch;
  }

  .study-cabinet-panel__planner-nav {
    justify-content: space-between;
    flex-wrap: wrap;
  }

  .study-cabinet-panel__planner-nav strong {
    min-width: 120px;
    font-size: 11px;
  }

  .study-cabinet-panel__planner-day-heads,
  .study-cabinet-panel__planner-days {
    min-width: 0;
  }

  .study-cabinet-panel__note-modal-row {
    grid-template-columns: 1fr;
  }
}

@keyframes study-cabinet-bar-rise {
  from {
    opacity: 0;
    transform: translateY(6px) scaleY(0.94);
  }
  to {
    opacity: 1;
    transform: translateY(0) scaleY(1);
  }
}
